# IngiteAI

**AI-Powered Telegram Business Automation Platform**

IngiteAI is a comprehensive platform that allows businesses to automate their customer interactions on Telegram using advanced AI. It connects Telegram bots to a powerful backend that manages conversations, leverages OpenAI for intelligent responses based on a custom Knowledge Base, and provides a business dashboard for analytics and management.

---

## ğŸ—ï¸ Architecture

The system is built with a modern, scalable tech stack:

*   **Frontend**: [Nuxt 3](https://nuxt.com/) (Vue 3) + Tailwind CSS + Pinia
    *   Responsive Dashboard for business owners.
    *   Real-time chat interface and bot management.
*   **Backend**: [Django](https://www.djangoproject.com/) + Django REST Framework (DRF)
    *   REST API for frontend communication.
    *   Webhook handler for Telegram updates.
    *   AI Service orchestration.
*   **Database**: PostgreSQL (Production) / SQLite (Development)
*   **AI Engine**: OpenAI API (GPT-3.5/4)
*   **Integrations**:
    *   **Telegram Bot API**: For messaging.
    *   **Google OAuth**: For secure authentication.

---

## ğŸš€ Installation & Setup

### Prerequisites
*   Python 3.10+
*   Node.js 18+
*   Git

### 1. Clone the Repository
```bash
git clone <repository-url>
cd IngiteAI
```

### 2. Backend Setup (Django)
Navigate to the `backend` directory:
```bash
cd backend
```

Create a virtual environment and activate it:
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

Install dependencies:
```bash
pip install -r requirements.txt
```

Run migrations:
```bash
python manage.py makemigrations
python manage.py migrate
```

Create a superuser (optional, for admin access):
```bash
python manage.py createsuperuser
```

Run the development server:
```bash
python manage.py runserver
```
The backend will be available at `http://localhost:8000`.

### 3. Frontend Setup (Nuxt 3)
Open a new terminal and navigate to the `frontend` directory:
```bash
cd frontend
```

Install dependencies:
```bash
npm install
```

Run the development server:
```bash
npm run dev
```
The frontend will be available at `http://localhost:3000`.

---

## ğŸ”‘ Environment Variables

You must configure environment variables for both backend and frontend.

### Backend (`backend/.env`)
Create a `.env` file in the `backend` folder:
```ini
DEBUG=True
SECRET_KEY=your_django_secret_key
ALLOWED_HOSTS=localhost,127.0.0.1,.onrender.com

# Database (Leave empty for SQLite in dev)
DATABASE_URL=

# OpenAI
OPENAI_API_KEY=sk-your_openai_api_key

# Google OAuth (Get from Google Cloud Console)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
```

### Frontend (`frontend/.env`)
Create a `.env` file in the `frontend` folder:
```ini
# API Base URL
NUXT_PUBLIC_API_BASE=http://localhost:8000

# Google OAuth Client ID (Must match backend)
GOOGLE_CLIENT_ID=your_google_client_id
```

---

## ğŸ¤– AI Logic & Responses

The core of IngiteAI is its intelligent response system located in `backend/bots/services.py`.

The AI evaluates every user message and returns a JSON response with the following structure:
```json
{
  "answer": "The generated response text to be sent to the user.",
  "needs_human": false,
  "lead_type": "warm"
}
```

*   **`answer`**: The actual text reply generated by the AI based on the user's query and the bot's Knowledge Base.
*   **`needs_human`**: A boolean flag (`true`/`false`).
    *   Set to `true` if the user asks for a human, or if the query involves conflicts, legal issues, or complex custom requests not covered by the Knowledge Base.
    *   The system can use this flag to alert a human agent.
*   **`lead_type`**: Categorizes the user's intent as `"cold"`, `"warm"`, or `"hot"` based on engagement level.

---

## ğŸ“± Telegram Bot Setup

To connect a bot to IngiteAI:

1.  Open Telegram and search for **@BotFather**.
2.  Send `/newbot` and follow the instructions to create a bot.
3.  Copy the **HTTP API Token** provided by BotFather.
4.  In the IngiteAI Dashboard (`http://localhost:3000`), go to **"Connect New Bot"**.
5.  Enter your Bot Name and the Token.
6.  The backend will automatically set the webhook to receive messages.

---

## â˜ï¸ Deployment

### Backend (Render.com)
1.  Connect your repo to Render.
2.  Select **Web Service**.
3.  **Build Command**: `pip install -r requirements.txt`
4.  **Start Command**: `gunicorn config.wsgi:application`
5.  Add Environment Variables from your `.env` file.
6.  *Note: For production, ensure you use a PostgreSQL database (e.g., Render PostgreSQL).*

### Frontend (Vercel)
1.  Connect your repo to Vercel.
2.  Select the `frontend` folder as the root directory.
3.  **Framework Preset**: Nuxt.js
4.  **Build Command**: `npm run build`
5.  **Output Directory**: `.output`
6.  Add Environment Variables (e.g., `NUXT_PUBLIC_API_BASE` pointing to your Render backend URL).

---

## ğŸ“‚ Folder Structure

```
IngiteAI/
â”œâ”€â”€ backend/                # Django Project
â”‚   â”œâ”€â”€ bots/               # Bots & Knowledge Base logic
â”‚   â”œâ”€â”€ chats/              # Conversations & Messages
â”‚   â”œâ”€â”€ users/              # User Profile & Business logic
â”‚   â”œâ”€â”€ config/             # Project Settings & URLs
â”‚   â”œâ”€â”€ manage.py           # Django CLI
â”‚   â”œâ”€â”€ requirements.txt    # Python Dependencies
â”‚   â””â”€â”€ Dockerfile          # Container Config
â”‚
â””â”€â”€ frontend/               # Nuxt 3 Project
    â”œâ”€â”€ app.vue             # Main App Component
    â”œâ”€â”€ pages/              # Vue Pages (Routing)
    â”œâ”€â”€ components/         # Reusable UI Components
    â”œâ”€â”€ layouts/            # Page Layouts
    â”œâ”€â”€ stores/             # Pinia State Management
    â”œâ”€â”€ middleware/         # Auth Middleware
    â”œâ”€â”€ nuxt.config.ts      # Nuxt Configuration
    â””â”€â”€ package.json        # Node Dependencies
```

## ğŸ› ï¸ Development Tips

*   **Testing Webhooks Locally**: Since Telegram cannot send webhooks to `localhost`, use a tunneling service like **ngrok**:
    ```bash
    ngrok http 8000
    ```
    Update the bot's webhook URL in the Django admin or via API to your ngrok URL (e.g., `https://xxxx.ngrok.io/api/v1/bots/webhook/`).
*   **Linting**: Run `npm run lint` in the frontend directory to catch type errors.
*   **Logs**: Check the terminal output where `python manage.py runserver` is running for backend logs and error tracks.
